<div style="height: 100%; background-color:rgba(0.0,0.0,0.0,0.0);" class="bngApp beamlrui">

<style>
::placeholder {
	color: white;
	font-size:16px;
}

.toggleon{
	border-color:#FF6600;
	border-width:3px;
	border-style:solid;
}

.toggleoff{

}

.tree > div div {
	padding:0px;
}


</style>


<script type="text/ng-template" id="edit-tree-partial">

<div class="tree" style="width:100%;">

<!-- Slot tree item container -->
<div ng-repeat="item in items" style="width:100%; text-align:center;">

<div ng-style="(expanded[item.id] && item.children.length > 0 && isSlotFilled(item.id)) && {'border-top':'solid 1px white','border-bottom':'solid 1px white', 'margin-bottom':'2px'}">

<!-- Item title & expand buttons -->
<div style="line-height:40px;">
<span style="float:left; width:40px;" ng-click="expandSlotTree(item.id)">{{getSlotExpandButton(item.id)}}</span>
<span ng-click="toggleSlotNameMode()" ng-style="(item.children.length > 0 && isSlotFilled(item.id)) && {'text-decoration':'underline'}">{{getSlotName(item.id)}}</span>
<span style="width:40px; height:40px; float:right;"><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(idFromPath(item.id))" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(item.id)}}" width=30px height=30px></img></span>
</div>

<!-- Slot parts container -->
<div ng-if="expanded[item.id]" ng-if="isSlotFilled(item.id)" ng-init="key = item.id">
<table style="font-size:16px; font-weight:normal; border-collapse: collapse; width: 95%; margin: auto; table-layout: fixed; vertical-align:middle; text-align:center;">

<tr style="width:100px;" ng-if="beamlrData['advinvUsed'][key] != null">
	<td style="width: 100px; height:100px; text-align:left;">
	<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}" width=90px height=90px />
	<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
	</td>
	<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}</strong><br>Odometer {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>Sell Value ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
	<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null">{{beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]}}<br>Odometer {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>Sell Value ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
	<td style="text-align:right;">
	<button ng-disabled="beamlrData['mainpart']==beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]" style="width:90px;" ng-click="advancedPartSet(key, beamlrData['advinvUsed'][key], '')">Remove</button><br><br>
	<button disabled style="width:90px;">Sell</button>
	</td>
</tr>

<tr ng-repeat="(index,pid) in beamlrData['advinvParts'][key]" style="width:100px;">
	<td style="width: 100px; height:100px; text-align:left;">
	<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][pid][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][pid][0]]}}" width=90px height=90px />
	<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
	</td>
	<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][pid][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][pid][0]]}}</strong><br>Odometer {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>Sell Value ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][pid][0]] == null">{{beamlrData['advinvData'][pid][0]}}<br>Odometer {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>Sell Value ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="text-align:right;">
	<button style="width:90px;" ng-click="advancedPartSet(key, pid, beamlrData['advinvData'][pid][0])">Use</button><br><br>
	<button ng-if="partSellConfirm[pid] == false || partSellConfirm[pid] == null" ng-click="advancedPartSell(pid)" style="width:90px;">Sell</button>
	<button ng-if="partSellConfirm[pid] == true" ng-click="advancedPartSell(pid)" style="width:90px;">Confirm?</button>
	</td>
</tr>
</table>
</div>

<!-- Recursive tree traversal -->
<div ng-if="item.children.length > 0 && expanded[item.id]" ng-init="items = item.children" ng-include="'edit-tree-partial'"></div>

</div>
</div>
</div>

</script>


<!-- shop tree partial  -->
<script type="text/ng-template" id="shop-tree-partial">

<div class="tree" style="width:100%;">

<div ng-repeat="item in items" style="width:100%; text-align:center;">

<div ng-if="beamlrData['availParts'][item] != null && item != 'main' && (beamlrData['vehSlotIDs'][item] != null || inputData.pshopshowinc == 1)" ng-style="(shopExpanded[item] && beamlrData['partShopTree'][item].children.length > 0) && {'border-top':'solid 1px white','border-bottom':'solid 1px white', 'margin-bottom':'2px'}">
	
<!-- Item title & expand buttons -->
<div style="line-height:40px;">
<span style="float:left; width:40px;" ng-click="expandShopTree(item)">{{getShopExpandButton(item)}}</span>
<span ng-style="(beamlrData['partShopTree'][item].children.length > 0 && beamlrData['vehSlotIDs'][item] == null) && {'text-decoration':'underline', 'color':'yellow'} || (beamlrData['vehSlotIDs'][item] == null) && {'color':'yellow','text-decoration':'none'} || (beamlrData['partShopTree'][item].children.length > 0) && {'color':'white','text-decoration':'underline'}" ng-click="toggleSlotNameMode()">{{getSlotName(item)}}</span>
<span ng-if="beamlrData['vehSlotIDs'][item] == null" style="text-decoration:none; color:yellow;">&nbsp &#9888;</span>
<span style="width:40px; height:40px; float:right;"><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(item)" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(item)}}" width=30px height=30px></img></span>
</div>

<div ng-if="shopExpanded[item]">

<div style="width:90%; margin-left:10px; text-align:left; font-size:16px; font-weight:normal;">
<input type="checkbox" ng-model="shopPartsHidden[item]">Hide parts</input>
</div>

<!-- Parts -->
<div ng-if="!shopPartsHidden[item]" style="width:100%; line-height:150px; font-size:16px; font-weight:normal;" ng-repeat="part in beamlrData['sortedShopParts'][item]">

<span style="float:left; height:90px; transform:translate(5px, 30px);">
	<img ng-click="imageClicked(beamlrData['partpreview'][part])" ng-if="beamlrData['partpreview'][part] != null" ng-attr-src="{{beamlrData['partpreview'][part]}}" width=90px height=90px />
	<img ng-if="beamlrData['partpreview'][part] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
</span>

<span style="display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word; white-space: pre-wrap;">{{getPartDescription(part)}}</span>

<span style="float:right; margin-right:5px; vertical-align:middle;">

<table style="height:100px; line-height:20px;">
	<tr style="height:25%; width:100px;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] | number:2}}</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] | number:2}}</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button style="width:100px;" ng-click="shopPartClick(part)">Buy New</button>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part) | number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part)| number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button ng-disabled="usedPartDayDataCheck(part)" style="width:100px;" ng-click="shopUsedPartBuy(part)">Buy Used</button>
		</td>
	</tr>
</table>

</span>

</div>

<!-- recursive tree traversal -->

<div ng-if="shopExpanded[item] && beamlrData['partShopTree'][item].children.length > 0" ng-init="items = beamlrData['partShopTree'][item].children" ng-include="'shop-tree-partial'"></div>

</div>

</div>

</div>

</div>

</script>



<!--
<img ng-if="showMenu == false" src="/ui/modules/apps/beamlrui/background.png" width=100% height=8% style="z-index:-1; transform:translate(0px,-2px);"/>
<img ng-if="showMenu == true" src="/ui/modules/apps/beamlrui/background.png" width=100% height=100% style="z-index:-1; transform:translate(0px,-2px);"/>
-->
<div style="z-index:999; position:relative;">

<div style="display:block; height:35px; background-color:rgba(0.0,0.0,0.0,0.6); margin:0; transform:translate(0px,-2px);">
<button ng-click="showMenuClick()" ng-if="showMenu" style="position:absolute; left:3px; top:3px;" >▲</button>
<button ng-click="showMenuClick()" ng-if="showMenu==false" style="position:absolute; left:3px; top:3px;" >▼</button>
<p ng-if="beamlrData['waitmsg'] != true" style="font-size: 25px; font-weight:bold; margin:0 auto; text-align:center; width:80%; ">{{"beamlr.mainui.title" | translate}}</p>
<p ng-if="beamlrData['waitmsg'] == true" style="font-size: 25px; font-weight:bold; margin:0 auto; text-align:center; width:80%; ">{{"beamlr.mainui.loading" | translate}}</p>
</div>


<div style="height: 420px; background-color:rgba(0.0,0.0,0.0,0.6); transform:translate(0px,-2px);" ng-if="showMenu" >

<table style="margin-left:auto; margin-right:auto; margin-bottom:0; table-layout:fixed; ">
<tr style="height:65px;">
<td style="width:75px; text-align:center;" ng-repeat="button in menuButtons">
<img ng-click="menuClick(button.id)" ng-attr-src="/ui/modules/apps/beamlrui/{{button.svg}}" width=65px height=65px />
</td>
</tr>
<tr style="height:10px; transform:translate(0px,-5px);">
<td style="margin-top:0px; width:75px; text-align: center; vertical-align:top; line-height:18px;" ng-repeat="button in menuButtons">{{"beamlr.mainui.topbar." + button.type | translate}}</td>
</tr>
</table>

<div ng-if="menuPage==0">
<h3 style="text-align:center; line-height:0px;"> {{"beamlr.mainui.page.home.title" | translate}} </h3>

<div style="margin-left: 5px; margin-right: 5px; overflow:scroll; overflow-y:scroll; max-height:250px; max-width:500px; background-color:rgba(0,0,0,0.5);" >

<h2 style="text-align:center;">
{{"beamlr.mainui.page.home.textline1" | translate}}<br>
</h2>

<h3 style="text-align:center;">
<span style="white-space: pre-wrap;">{{"beamlr.mainui.page.home.textline2" | translate}}</span>
</h3>

<p style="margin-left:10px; margin-right:10px; text-align:center;">
{{"beamlr.mainui.page.home.textline3" | translate}}
</p>

<h3 style="text-align:center;">
{{"beamlr.mainui.page.home.textline4" | translate}}
</h3>

<h2 style="margin-left:10px; margin-right:10px; text-align:center;">
{{"beamlr.mainui.page.home.textline5" | translate}}
</h2>

<p style="margin-left:10px; margin-right:10px; text-align:center; font-size:17px; font-weight:bold;">
Luka Rupnik (fabio)<br>
Dimitriu Dragos-Alexandru (rapturereaperALEX)<br>
Bartosz Falba (enouqh)<br>
Mikołaj Bartosz Kuliński<br>
Gál Ádám (Buksikutya77)<br>
Petr Brůžek (NikdoNicNevi)<br>
Jukka-Pekka Tuppurainen<br>
Lauri Kabur<br>
Liam Wood (liamwood15)<br>
Benjamin Rogers (thisvelologist)<br>
Leon Makepeace<br>
Ethan Rapp<br>
Mattia Morris (Mattia83)<br>
Michael Mckinley<br>
Ecril<br>
Jude Thaddeus Persia<br>
Soolek<br>
Lorenzo Boccaccia (LoSboccacc)<br>
Fernando Serafim Marcello<br>
Andrew Barbot<br>
Joe Franco<br>
Zbignev Ulevic<br>
Nuno Medeiros<br>
Preston Knapp<br>
Marcos Da Silva<br>
Abdullah Alsnani<br>
</p>

<h2 style="text-align:center;">
{{"beamlr.mainui.page.home.textline6" | translate}}
</h2>

<p style="margin-left:10px; margin-right:10px; text-align:center;">
<span style="white-space:pre-wrap;">{{"beamlr.mainui.page.home.textline7" | translate}}</span>
</p>

</div>

</div>

<div ng-if="menuPage==1" style="">
<h3 style="text-align:center; line-height:0px;">{{"beamlr.mainui.page.options.title" | translate}}</h3>

<div style="margin-left: 5px; margin-right: 5px; overflow:scroll; overflow-y:scroll; max-height:250px; max-width:500px; background-color:rgba(0,0,0,0.5)">

<div ng-click="toggleOptionShow('general')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['general'] == false || optshow['general'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['general'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.general" | translate}}</span>
<span ng-if="optshow['general'] == false || optshow['general'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['general'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['general'] == true">
<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.playername" | translate}}
<input type="text" ng-model="inputData.name" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setNameClick()">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.vehiclename" | translate}}
<input type="text" ng-model="inputData.vehname" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setVehNameClick()">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.sleepduration" | translate}}
<input type="number" max=24.0 min=0.5 step=0.5 size=5 maxlength=5 ng-model="inputData.sleepTime" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setSleepDuration(inputData.sleepTime)">{{"beamlr.generic.button.set" | translate}}</button>
</p>


<span style="float:left; transform:translate(40px, 0px)">
{{"beamlr.mainui.page.options.setting.targetwager" | translate}}
</span>
<span>
<md-slider flex style="width:150px; transform: translate(150px, -10px); " min="100" max="10000" step="5" ng-model="inputData.targetWager" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()">
</md-slider>
</span>
<span style="float:right; transform:translate(-100px, -45px); width:50px">${{inputData.targetWager}}</span>
<span style="float:right; transform:translate(0px, -45px)">
<button ng-click="setTargetWager(inputData.targetWager)">{{"beamlr.generic.button.set" | translate}}</button>
</span>

<p style="width: 85%; margin:auto; text-align:center; transform:translate(30px,10px);">
{{"beamlr.mainui.page.options.setting.mirrordetails" | translate}}
</p>

<p style="width: 100%; text-align:center; transform:translate(0px,0px); margin-bottom:50px;">
<span>{{"beamlr.mainui.page.options.setting.mirror" | translate}}</span>
<button ng-click="adjustMirrors()">{{"beamlr.generic.button.edit" | translate}}</button>
</p>

<p style="text-align:center; transform:translate(50px,-20px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.raceoprandpaints" | translate}}
<button ng-class="inputData.raceRandPaint == 1 ? 'toggleon' : 'toggleoff'" ng-click="setOpponentRandomPaint(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.raceRandPaint == 0 ? 'toggleon' : 'toggleoff'" ng-click="setOpponentRandomPaint(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;">{{"beamlr.mainui.page.options.setting.timescaledetails" | translate}}</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.timescale" | translate}}
<input type="number" max=100.0 min=1.0 step=0.1 size=5 maxlength=5 ng-model="inputData.timeScale" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setTimeScale(inputData.timeScale)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.gpsmodedetails" | translate}}
</p>


<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.gpsmode" | translate}}
<button ng-class="inputData.gpsmode == 0 ? 'toggleon' : 'toggleoff'" ng-click="setGPSMode(0)">{{"beamlr.generic.button.default" | translate}}</button>
<button ng-class="inputData.gpsmode == 1 ? 'toggleon' : 'toggleoff'" ng-click="setGPSMode(1)">{{"beamlr.generic.button.alwayson" | translate}}</button>
<button ng-class="inputData.gpsmode == 2 ? 'toggleon' : 'toggleoff'" ng-click="setGPSMode(2)">{{"beamlr.generic.button.alwaysoff" | translate}}</button>
</p>

<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.dragfinish" | translate}}
<button ng-class="inputData.dragslowmo == 1 ? 'toggleon' : 'toggleoff'" ng-click="toggleDragSlowmo(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.dragslowmo == 0 ? 'toggleon' : 'toggleoff'" ng-click="toggleDragSlowmo(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.groundmarkers" | translate}}
<button ng-class="inputData.gmtoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="toggleGroundmarkers(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.gmtoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="toggleGroundmarkers(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.floatingmarkers" | translate}}
<button ng-class="inputData.fmtoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="toggleMarkers(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.fmtoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="toggleMarkers(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
<strong>{{"beamlr.mainui.page.options.setting.healthwarnbold" | translate}}</strong>{{"beamlr.mainui.page.options.setting.healthwarn" | translate}}
</p>

<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.healthtoggle" | translate}}
<button ng-class="inputData.allowinjury == 1 ? 'toggleon' : 'toggleoff'" ng-click="toggleHealth(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.allowinjury == 0 ? 'toggleon' : 'toggleoff'" ng-click="toggleHealth(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>


<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.lightmanagerdetails" | translate}}
</p>

<p style="text-align:center; transform:translate(60px,0px); width:350px;"> 
{{"beamlr.mainui.page.options.setting.lightmanagertoggle" | translate}}
<button ng-class="inputData.lmtoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="toggleLightManager(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.lmtoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="toggleLightManager(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>
</div>

<div ng-click="toggleOptionShow('career')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['career'] == false || optshow['career'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['career'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.career" | translate}}</span>
<span ng-if="optshow['career'] == false || optshow['career'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['career'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['career'] == true">
<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.currentseed" | translate}}{{beamlrData['seed']}}
</p>

<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.nextseeddetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.nextseed" | translate}}
<input type="text" maxlength=10 size=11 ng-model="inputData.seed" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setSeed()">{{"beamlr.generic.button.set" | translate}}</button>
<button ng-click="setRandomSeed()">{{"beamlr.generic.button.random" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.autoseeddetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.autoseed" | translate}}
<button ng-class="inputData.autoseed == 1 ? 'toggleon' : 'toggleoff'" ng-click="setAutoSeed(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.autoseed == 0 ? 'toggleon' : 'toggleoff'" ng-click="setAutoSeed(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<br>

<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.difficultydetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.difficulty" | translate}}
<button ng-class="inputData.difficulty == 'easy' ? 'toggleon' : 'toggleoff'" ng-click="setDifficulty('easy')">{{"beamlr.mainui.page.options.setting.difficultyEasy" | translate}}</button>
<button ng-class="inputData.difficulty == 'medium' ? 'toggleon' : 'toggleoff'" ng-click="setDifficulty('medium')">{{"beamlr.mainui.page.options.setting.difficultyMedium" | translate}}</button>
<button ng-class="inputData.difficulty == 'hard' ? 'toggleon' : 'toggleoff'" ng-click="setDifficulty('hard')">{{"beamlr.mainui.page.options.setting.difficultyHard" | translate}}</button>
</p>

<br>

<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.wagerrepdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.wagerscale" | translate}}
<input type="number" max=5.0 min=0.5 step=0.1 size=5 maxlength=4 ng-model="inputData.wagerscl" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setWagerScale(inputData.wagerscl)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.repscale" | translate}}
<input type="number" max=5.0 min=0.5 step=0.1 size=5 maxlength=4 ng-model="inputData.repscl" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setRepScale(inputData.repscl)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.restrictleaguesdetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.restrictleagues" | translate}}
<button ng-class="inputData.lrestrict == 1 ? 'toggleon' : 'toggleoff'" ng-click="setLeagueRestriction(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.lrestrict == 0 ? 'toggleon' : 'toggleoff'" ng-click="setLeagueRestriction(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.racerandseeddetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.racerandseed" | translate}}
<button ng-class="inputData.rsraces == 1 ? 'toggleon' : 'toggleoff'" ng-click="setRandomRaceSeedMode(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.rsraces == 0 ? 'toggleon' : 'toggleoff'" ng-click="setRandomRaceSeedMode(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.gslotdetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.gslots" | translate}}
<button ng-class="inputData.lgslots == 1 ? 'toggleon' : 'toggleoff'" ng-click="limitedGarageToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.lgslots == 0 ? 'toggleon' : 'toggleoff'" ng-click="limitedGarageToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.trackslicksdetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trackslicks" | translate}}
<button ng-class="inputData.allowtesmode == 1 ? 'toggleon' : 'toggleoff'" ng-click="trackEventSlicksToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.allowtesmode == 0 ? 'toggleon' : 'toggleoff'" ng-click="trackEventSlicksToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<br>

<p style="text-align:center; white-space:pre-wrap;">
{{"beamlr.mainui.page.options.setting.backupdetails" | translate}}
</p>
<p style="text-align:center;">
{{"beamlr.mainui.page.options.setting.loadbackup" | translate}}
<button ng-click="restoreBackup()">{{"beamlr.generic.button.load" | translate}}</button>
</p>

<br>

<p style="text-align:center;">
{{"beamlr.mainui.page.options.setting.resetdetails" | translate}}
</p>

<p style="text-align:center; color:yellow;"> 
{{"beamlr.mainui.page.options.setting.resetcareer" | translate}}
<button ng-if="resetConfirm == false" ng-click="resetCareer()">{{"beamlr.mainui.page.options.setting.resetbutton" | translate}}</button>
<button ng-if="resetConfirm == true" ng-click="resetCareer()">{{"beamlr.mainui.page.options.setting.resetconfirm" | translate}}</button>
</p>

<br>

</div>

<div ng-click="toggleOptionShow('ui')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['ui'] == false || optshow['ui'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['ui'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.ui" | translate}}</span>
<span ng-if="optshow['ui'] == false || optshow['ui'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['ui'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['ui'] == true">
<p style="white-space:pre-wrap; text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.imscaledetails" | translate}}
</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.imscale" | translate}}
<input type="number" max=10.0 min=0.01 step=0.01 size=5 maxlength=5 ng-model="inputData.imguiScale" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setIMGUIScale(inputData.imguiScale)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.imlayoutdetails" | translate}}
</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.imlayout" | translate}}
<button ng-click="saveIMGUI()">{{"beamlr.generic.button.save" | translate}}</button>
<button ng-click="loadIMGUI()">{{"beamlr.generic.button.load" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.imautosavedetails" | translate}}
</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.imautosave" | translate}}
<button ng-class="inputData.imautosave == 1 ? 'toggleon' : 'toggleoff'" ng-click="autosaveIMGUI(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.imautosave == 0 ? 'toggleon' : 'toggleoff'" ng-click="autosaveIMGUI(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>


<p style="text-align:center; margin-top:15px; margin-bottom:10px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.partimgscale" | translate}}
</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
<button ng-class="inputData.imgmode == 0 ? 'toggleon' : 'toggleoff'" ng-click="setImageUIMode(0)">{{"beamlr.mainui.page.options.setting.partimgscaleorigin" | translate}}</button>
<button ng-class="inputData.imgmode == 1 ? 'toggleon' : 'toggleoff'" ng-click="setImageUIMode(1)">{{"beamlr.mainui.page.options.setting.partimgscalefit" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.parteditmodedetails" | translate}}
</p>
<p style="text-align:center; margin-top:15px; margin-bottom:10px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.parteditmode" | translate}}
</p>
<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
<button ng-class="inputData.edittreemode == 0 ? 'toggleon' : 'toggleoff'" ng-click="setEditTreeMode(0)">{{"beamlr.mainui.page.options.setting.parteditsorted" | translate}}</button>
<button ng-class="inputData.edittreemode == 1 ? 'toggleon' : 'toggleoff'" ng-click="setEditTreeMode(1)">{{"beamlr.mainui.page.options.setting.partedittree" | translate}}</button>
</p>

<p style="text-align:center; margin-top:15px; margin-bottom:15px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.shopincompatibledetails" | translate}}
</p>
<p style="text-align:center; margin-top:15px; margin-bottom:10px; margin-left:20px; margin-right:20px;">
{{"beamlr.mainui.page.options.setting.shopincompatible" | translate}}
</p>
<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
<button ng-class="inputData.pshopshowinc == 1 ? 'toggleon' : 'toggleoff'" ng-click="togglePartShopShowIncompatible(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.pshopshowinc == 0 ? 'toggleon' : 'toggleoff'" ng-click="togglePartShopShowIncompatible(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>



</div>

<div ng-click="toggleOptionShow('traffic')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['traffic'] == false || optshow['traffic'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['traffic'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.traffic" | translate}}</span>
<span ng-if="optshow['traffic'] == false || optshow['traffic'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['traffic'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['traffic'] == true">

<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.trafficcountdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficcountcivilian" | translate}}
<input type="number" style="text-align:center;" ng-model="inputData.traffic" min=0 max=20 ng-change="setTrafficDensity()"></input>
<button ng-click="setDefaultValue('traffic')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficcountpolice" | translate}}
<input type="number" style="text-align:center;"  ng-model="inputData.police" min=0 max=5 ng-change="setPoliceDensity()"></input>
<button ng-click="setDefaultValue('police')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>


<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficcounttruck" | translate}}
<input type="number" style="text-align:center;"  ng-model="inputData.trucks" min=0 max=5 ng-change="setTruckDensity()"></input>
<button ng-click="setDefaultValue('trucks')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.maxtrafficdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.maxtraffic" | translate}}
<input type="number" style="text-align:center;"  ng-model="inputData.atcount" min=0 max="{{(inputData.traffic + inputData.police + inputData.trucks) || 0}}" ng-change="setActiveTrafficCount()"></input>
<button ng-click="setDefaultValue('atcount')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.trafficspawnratedetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficspawnrate" | translate}}
<input type="number" style="text-align:center;"  ng-model="inputData.tsrate" min=0.01 max=1 step=0.01 ng-change="setTrafficSpawnRate()"></input>
<button ng-click="setDefaultValue('tsrate')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.trafficdirbiasdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficdirbias" | translate}}
<input type="number" style="text-align:center;"  ng-model="inputData.tsbias" min=-1 max=1 step=0.01 ng-change="setTrafficDirectionBias()"></input>
<button ng-click="setDefaultValue('tsbias')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>



<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficrisk" | translate}}
<input type="number" ng-change="setTrafficRisk()" min=0.01 max=1 step=0.01 maxlength=10 size=5 ng-model="inputData.trisk" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setDefaultValue('trisk')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficcopstrict" | translate}}
<input type="number" ng-change="setPoliceStrictness()" min=0 max=1 step=0.01 size=5 ng-model="inputData.copstrict" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setDefaultValue('copstrict')">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.trafficreset" | translate}}
<button ng-click="setAllDefaultValues()">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.racetrafficdetails" | translate}}</p>

<p style="text-align:center; transform:translate(40px,0px); width:400px;"> 
{{"beamlr.mainui.page.options.setting.racetraffic" | translate}}
<button ng-class="inputData.rtmode == 0 ? 'toggleon' : 'toggleoff'" ng-click="setRaceTraffic(0)">{{"beamlr.generic.button.default" | translate}}</button>
<button ng-class="inputData.rtmode == 2 ? 'toggleon' : 'toggleoff'" ng-click="setRaceTraffic(2)">{{"beamlr.generic.button.alwayson" | translate}}</button>
<button ng-class="inputData.rtmode == 1 ? 'toggleon' : 'toggleoff'" ng-click="setRaceTraffic(1)">{{"beamlr.generic.button.alwaysoff" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.instanttrafficdetails" | translate}}</p>

<p style="text-align:center; transform:translate(40px,0px); width:400px;"> 
{{"beamlr.mainui.page.options.setting.instanttraffic" | translate}}
<button ng-class="inputData.tfasttoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="setTrafficFastToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.tfasttoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="setTrafficFastToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.manualtrafficdetails" | translate}}</p>

<p style="text-align:center; transform:translate(40px,0px); width:400px;"> 
{{"beamlr.mainui.page.options.setting.manualtraffic" | translate}}
<button class="toggleoff" ng-click="trafficToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button class="toggleoff" ng-click="trafficToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>
</div>

<div ng-click="toggleOptionShow('weather')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['weather'] == false || optshow['weather'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['weather'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.environment" | translate}}</span>
<span ng-if="optshow['weather'] == false || optshow['weather'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['weather'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['weather'] == true">
<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.dynamicweatherdetails" | translate}}</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.dynamicweather" | translate}}
<button ng-class="inputData.dwtoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="dwtoggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.dwtoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="dwtoggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.weathervardetails" | translate}}</p>


<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.weathervarcc" | translate}}
<input type="number" min=0 max=1 step=0.01 maxlength=10 size=5 ng-model="inputData.ccvar" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setCloudCoverVar(inputData.ccvar)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.weathervarws" | translate}}
<input type="number" min=0 max=1 step=0.01 maxlength=10 size=5 ng-model="inputData.wsvar" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setWindSpeedVar(inputData.wsvar)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.weathervarf" | translate}}
<input type="number" min=0 max=1 step=0.01 maxlength=10 size=5 ng-model="inputData.fdvar" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setFogDensityVar(inputData.fdvar)">{{"beamlr.generic.button.set" | translate}}</button>
</p>


<p style="text-align:center; width:450px; margin-left:auto; margin-right:auto;" >{{"beamlr.mainui.page.options.setting.oildecalsdetails" | translate}}</p>

<p style="text-align:center; margin-top:5px; margin-bottom:5px;"> 
{{"beamlr.mainui.page.options.setting.oildecalstoggle" | translate}}
<button ng-class="inputData.odtoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="odtoggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.odtoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="odtoggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.oildecalsmax" | translate}}
<input type="number" min=50 max=1000 step=50 maxlength=4 size=5 ng-model="inputData.odbufsize" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button ng-click="setOilLeakDecalBuffer(inputData.odbufsize)">{{"beamlr.generic.button.set" | translate}}</button>
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.oildecalsclear" | translate}}
<button ng-click="clearDecals()">{{"beamlr.generic.button.clear" | translate}}</button>
</p>


</div>

<div ng-click="toggleOptionShow('advanced')" style="width:95%; font-size:20px; font-weight:bold; text-align:center; margin:auto; margin-top:10px;">
<span ng-if="optshow['advanced'] == false || optshow['advanced'] == null" style="float:left;">&nbsp+</span>
<span ng-if="optshow['advanced'] == true" style="float:left;">&nbsp-</span>
<span>{{"beamlr.mainui.page.options.category.advanced" | translate}}</span>
<span ng-if="optshow['advanced'] == false || optshow['advanced'] == null" style="float:right;">+&nbsp</span>
<span ng-if="optshow['advanced'] == true" style="float:right;">-&nbsp</span>
</div>

<div ng-if="optshow['advanced'] == true">
<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.coprolefixdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.coprolefix" | translate}}
<button ng-click="forcedCopfix()">{{"beamlr.mainui.page.options.setting.coprolefixbutton" | translate}}</button>
</p>

<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.autocoprolefixdetails" | translate}}</p>


<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.autocoprolefix" | translate}}
<button ng-class="inputData.autoCopfix == 1 ? 'toggleon' : 'toggleoff'" ng-click="autoCopfix(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.autoCopfix == 0 ? 'toggleon' : 'toggleoff'" ng-click="autoCopfix(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>


<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.beamstatetoggledetails" | translate}}</p>


<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.beamstatetoggle" | translate}}
<button ng-class="inputData.bstoggle == 1 ? 'toggleon' : 'toggleoff'" ng-click="beamstateToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.bstoggle == 0 ? 'toggleon' : 'toggleoff'" ng-click="beamstateToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>


<p style="text-align:center;">{{"beamlr.mainui.page.options.setting.couplersresetdetails" | translate}}</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.couplersreset" | translate}}
<button ng-click="resetCouplers()">{{"beamlr.generic.button.reset" | translate}}</button>
</p>

<!-- ADVANCED REPAIR IS FORCED ENABLED AS OF 1.17.5 DUE TO OLD REPAIR CAUSING ISSUES
<p style="text-align:center;">  
Advanced repair cost uses improved code for more accurate repair cost calculation, relying on broken/deformed beams<br>and part specific costs. Will likely result in higher repair costs especially for high end vehicles.
</p>

<p style="text-align:center;"> 
Advanced Repair Cost
<button ng-class="inputData.advrepaircost == 1 ? 'toggleon' : 'toggleoff'" ng-click="arcToggle(1)">On</button>
<button ng-class="inputData.advrepaircost == 0 ? 'toggleon' : 'toggleoff'" ng-click="arcToggle(0)">Off</button>
</p>

<p ng-if="inputData.advrepaircost == 1" style="text-align:center;">  
Advanced repair UI allows for part specific repairs.<br>Damaged parts will be removed unless repaired.<br>Removed damaged parts are not added to inventory.<br><br>This setting requires Advanced Repair Cost to be enabled.
</p>

<p ng-if="inputData.advrepaircost == 1" style="text-align:center;"> 
Advanced Repair UI
<button ng-class="inputData.useadvrepairui == 1 ? 'toggleon' : 'toggleoff'" ng-click="aruiToggle(1)">On</button>
<button ng-class="inputData.useadvrepairui == 0 ? 'toggleon' : 'toggleoff'" ng-click="aruiToggle(0)">Off</button>
</p>
-->

<p style="text-align:center;">  
{{"beamlr.mainui.page.options.setting.safemodedetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.safemode" | translate}}
<button ng-class="inputData.gsafemode == 1 ? 'toggleon' : 'toggleoff'" ng-click="safeModeToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.gsafemode == 0 ? 'toggleon' : 'toggleoff'" ng-click="safeModeToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; width:95%; margin-left:auto; margin-right:auto;">  
{{"beamlr.mainui.page.options.setting.dbypassdetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.dbypass" | translate}}
<button ng-class="inputData.dbypass == 1 ? 'toggleon' : 'toggleoff'" ng-click="damageBypassToggle(1)">{{"beamlr.generic.button.on" | translate}}</button>
<button ng-class="inputData.dbypass == 0 ? 'toggleon' : 'toggleoff'" ng-click="damageBypassToggle(0)">{{"beamlr.generic.button.off" | translate}}</button>
</p>

<p style="text-align:center; width:95%; margin-left:auto; margin-right:auto;">  
{{"beamlr.mainui.page.options.setting.manualcachedetails" | translate}}
</p>

<p style="text-align:center;"> 
{{"beamlr.mainui.page.options.setting.manualcache" | translate}}
<button ng-click="startManualCache()">{{"beamlr.mainui.page.options.setting.manualcacheexec" | translate}}</button>
</p>

</div>

<br>



</div>


</div>

<!-- PART BUYING START -->

<div ng-if="menuPage==2">

<h3 style="text-align:center; line-height:0px;">{{"beamlr.mainui.page.partbuy.title" | translate}}({{beamlrData['shopPriceScale'] * 100.0 | number:0}}% {{"beamlr.mainui.page.partbuy.costtitle" | translate}})</h3>

<div ng-if="(beamlrData['triggerState'] == 1 || beamlrData['triggerState'] == 2)">

<div style="text-align:center; transform:translate(0, -5px);" >
	<button ng-click="showPartShopV2()" style="border-radius:10px; width:40px;">&#x1F4D6</button> 
	<button ng-click="filter(0,'all')" style="width:47px;">{{inputData.edittreemode == 0 && ("beamlr.mainui.page.partbuy.category.all" | translate) || ("beamlr.mainui.page.partbuy.category.tree" | translate)}}</button> 
	<button ng-click="filter(0,'body')">{{"beamlr.mainui.page.partbuy.category.body" | translate}}</button> 
	<button ng-click="filter(0,'engine')">{{"beamlr.mainui.page.partbuy.category.engine" | translate}}</button> 
	<button ng-click="filter(0,'suspension')">{{"beamlr.mainui.page.partbuy.category.susp" | translate}}</button> 
	<button ng-click="filter(0,'favorites')">{{"beamlr.mainui.page.partbuy.category.favs" | translate}}</button> 
	<input style="width:75px" type="text" ng-model="inputData.searchFilter" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
	<button ng-click="search(0)" style="border-radius:10px;">&#x1F50D</button>
</div>

<!-- ORIGINAL LIST MODE START -->

<div ng-if="inputData.edittreemode == 0 || searching">

<div style="margin-left: 5px; margin-right: 5px; overflow-y:scroll; max-height:220px; min-height:220px; max-width:500px; background-color:rgba(0,0,0,0.5);" >

<div ng-repeat="(id,key) in beamlrData['sortedShopSlots'] track by id">
<div ng-if="beamlrData['availParts'][key] != null && key != 'main' && (inputData.pshopshowinc == 1 || beamlrData['vehSlotIDs'][key] != null)">

<div style="word-wrap:break-word; text-align:center; font-weight: bold; font-size:20px; width:100%; line-height:40px;" ng-if="getSlotName(key) != null && slotNameMode != 1">
	<span ng-if="visibleSlots[key] == null || visibleSlots[key] == false" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, true)">+</span>
	<span ng-if="visibleSlots[key] == true" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, false)">-</span>
	<span ng-if="beamlrData['vehSlotIDs'][key] != null" style="text-align:center; display:inline-block; max-width:80%;" ng-click="setSlotNameMode(1)"> {{getSlotName(key)}} </span>
	<span ng-if="beamlrData['vehSlotIDs'][key] == null" style="text-align:center; display:inline-block; max-width:80%; color:yellow;" ng-click="setSlotNameMode(1)"> {{getSlotName(key)}} &nbsp &#9888;</span>
	<span style="width:40px; height:40px; float:right;"><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(key)" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(key)}}" width=30px height=30px></img></span>
</div>

<div style="word-wrap:break-word; text-align:center; font-weight: bold; font-size:20px; width:100%; line-height:40px;" ng-if="getSlotName(key) == null || slotNameMode == 1">
	<span ng-if="visibleSlots[key] == null || visibleSlots[key] == false" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, true)">+</span>
	<span ng-if="visibleSlots[key] == true" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, false)">-</span>
	<span ng-if="beamlrData['vehSlotIDs'][key] != null" style="text-align:center; display:inline-block; max-width:80%;" ng-click="setSlotNameMode(0)"> {{key}} </span>
	<span ng-if="beamlrData['vehSlotIDs'][key] == null" style="text-align:center; display:inline-block; max-width:80%; color:yellow;" ng-click="setSlotNameMode(0)"> {{key}} &nbsp &#9888;</span>
	<span style="width:40px; height:40px; float:right;"><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(key)" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(key)}}" width=30px height=30px></img></span>
</div>

<div ng-if="visibleSlots[key] == true" style="margin-left:5px; line-height:150px;" ng-repeat="(pid,part) in beamlrData['sortedShopParts'][key] track by pid"> 
<div ng-if="beamlrData['availParts'][key][part] != null">

<span style="float:left; height:90px; transform:translate(0px, 30px);">
	<img ng-click="imageClicked(beamlrData['partpreview'][part])" ng-if="beamlrData['partpreview'][part] != null" ng-attr-src="{{beamlrData['partpreview'][part]}}" width=90px height=90px />
	<img ng-if="beamlrData['partpreview'][part] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
</span>

<div ng-if="slotNameMode!=1">
<span ng-if="beamlrData['vehInstParts'][part] == null && (beamlrData['advinvOwned'][part] == null || beamlrData['advinvOwned'][part] == 0)" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{beamlrData['partNames'][part]}}</span>
<span ng-if="beamlrData['vehInstParts'][part] == null && beamlrData['advinvOwned'][part] > 0" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{beamlrData['partNames'][part]}}<br>({{"beamlr.mainui.page.partbuy.tags.own" | translate}} {{beamlrData['advinvOwned'][part]}})</span>
<span ng-if="beamlrData['vehInstParts'][part] != null" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{beamlrData['partNames'][part]}}<br>({{"beamlr.mainui.page.partbuy.tags.installed" | translate}})</span>

<span style="float:right; margin-right:5px; vertical-align:middle;">

<table style="height:100px; line-height:20px;">
	<tr style="height:25%; width:100px;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] | number:2}}</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] | number:2}}</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button style="width:100px;" ng-click="shopPartClick(part)">{{"beamlr.mainui.page.partbuy.button.buynew" | translate}}</button>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part) | number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part)| number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button ng-disabled="usedPartDayDataCheck(part)" style="width:100px;" ng-click="shopUsedPartBuy(part)">{{"beamlr.mainui.page.partbuy.button.buyused" | translate}}</button>
		</td>
	</tr>
</table>

</span>
</div>

<div ng-if="slotNameMode==1">
<span ng-if="beamlrData['vehInstParts'][part] == null && (beamlrData['advinvOwned'][part] == null || beamlrData['advinvOwned'][part] == 0)" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{part}}</span>
<span ng-if="beamlrData['vehInstParts'][part] == null && beamlrData['advinvOwned'][part] > 0" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{part}} ({{"beamlr.mainui.page.partbuy.tags.own" | translate}} {{beamlrData['advinvOwned'][part]}})</span>
<span ng-if="beamlrData['vehInstParts'][part] != null" style="transform:translate(20px, 0px); display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word;">{{part}} ({{"beamlr.mainui.page.partbuy.tags.installed" | translate}})</span>
<span style="float:right; margin-right:5px; vertical-align:middle;">

<table style="height:100px; line-height:20px;">
	<tr style="height:25%; width:100px;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] | number:2}}</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] | number:2}}</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button style="width:100px;" ng-click="shopPartClick(part)">{{"beamlr.mainui.page.partbuy.button.buynew" | translate}}</button>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part) | number:2}}<br>({{getShopUsedPartOdometer(part,true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part)| number:2}}<br>({{getShopUsedPartOdometer(part,true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button ng-disabled="usedPartDayDataCheck(part)" style="width:100px;" ng-click="shopUsedPartBuy(part)">{{"beamlr.mainui.page.partbuy.button.buyused" | translate}}</button>
		</td>
	</tr>
</table>

</span>
</div>

</div>

</div>

</div>
</div>

</div>


</div> 

<!-- ORIGINAL LIST MODE END -->

<!-- TREE MODE START -->

<div ng-if="inputData.edittreemode == 1 && !searching">

<div style="margin-left: 5px; margin-right: 5px; overflow-y:scroll; max-height:220px; min-height:220px; max-width:500px; background-color:rgba(0,0,0,0.5);" >

<div style="word-wrap:break-word; text-align:center; font-weight: bold; font-size:20px;" ng-repeat="item in beamlrData['partShopTree'][beamlrData['mainPartName']].children">

<div ng-style="(shopExpanded[item] && beamlrData['partShopTree'][item].children.length > 0) && {'border-top':'solid 1px white','border-bottom':'solid 1px white', 'margin-bottom':'2px'}">
	
<!-- Item title & expand buttons -->
<div style="line-height:40px;">
<span style="float:left; width:40px;" ng-click="expandShopTree(item)">{{getShopExpandButton(item)}}</span>
<span ng-click="toggleSlotNameMode()" ng-style="beamlrData['partShopTree'][item].children.length > 0 && {'text-decoration':'underline'}">{{getSlotName(item)}}</span>
<span style="width:40px; height:40px; float:right;"><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(item)" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(item)}}" width=30px height=30px></img></span>
</div>

<div ng-if="shopExpanded[item]">

<div style="width:90%; margin-left:10px; text-align:left; font-size:16px; font-weight:normal;">
<input type="checkbox" ng-model="shopPartsHidden[item]">{{"beamlr.mainui.page.partbuy.button.hideparts" | translate}}</input>
</div>

<!-- Parts -->
<div ng-if="!shopPartsHidden[item]" style="width:100%; line-height:150px; font-size:16px; font-weight:normal;" ng-repeat="part in beamlrData['sortedShopParts'][item]">

<span style="float:left; height:90px; transform:translate(5px, 30px);">
	<img ng-click="imageClicked(beamlrData['partpreview'][part])" ng-if="beamlrData['partpreview'][part] != null" ng-attr-src="{{beamlrData['partpreview'][part]}}" width=90px height=90px />
	<img ng-if="beamlrData['partpreview'][part] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
</span>

<span style="display:inline-block; text-align:center; line-height:20px; width: 200px; margin-left:20px; vertical-align:middle; overflow-wrap:break-word; white-space: pre-wrap;">{{getPartDescription(part)}}</span>

<span style="float:right; margin-right:5px; vertical-align:middle;">

<table style="height:100px; line-height:20px;">
	<tr style="height:25%; width:100px;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] | number:2}}</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] | number:2}}</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button style="width:100px;" ng-click="shopPartClick(part)">Buy New</button>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] == null">${{beamlrData['partPrices']['default'] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part) | number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		<p style="text-align:center; margin:0;" ng-if="beamlrData['partPrices'][part] != null">${{beamlrData['partPrices'][part] * beamlrData['shopPriceScale'] * getShopUsedPartPriceScale(part)| number:2}}<br>({{getShopUsedPartOdometer(part, true) / 1000000.0 | number:1}}K {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}})</p>
		</td>
	</tr>
	<tr style="height:25%;">
		<td>
		<button ng-disabled="usedPartDayDataCheck(part)" style="width:100px;" ng-click="shopUsedPartBuy(part)">Buy Used</button>
		</td>
	</tr>
</table>

</span>

</div>




<div ng-if="shopExpanded[item] && beamlrData['partShopTree'][item].children.length > 0" ng-init="parent=item; items = beamlrData['partShopTree'][item].children" ng-include="'shop-tree-partial'"></div>
</div>

</div>

</div>

</div>

</div>

<!-- TREE MODE END -->

</div>

<div ng-if="beamlrData['triggerState'] != 1 && beamlrData['triggerState'] != 2">
<h2 style="text-align:center;" > Get to a Shop or Garage! </h2>
</div>

</div>

<!-- PART BUYING END -->

<div ng-if="menuPage==3" style="">
<h3 ng-if="editMode == 0" style="text-align:center; line-height:0px;"> {{"beamlr.mainui.page.caredit.titleparts" | translate}} </h3>
<h3 ng-if="editMode == 1" style="text-align:center; line-height:0px;"> {{"beamlr.mainui.page.caredit.titletemplates" | translate}} </h3>
<h3 ng-if="editMode == 2" style="text-align:center; line-height:0px;"> {{"beamlr.mainui.page.caredit.titlepaint" | translate}} </h3>
<div ng-if="beamlrData['triggerState'] == 2 && beamlrData['playerDamage'] <= 1.0 && beamlrData['playerWalking'] == 0 && beamlrData['vehicleRestricted'] != true" >

<div style="text-align:center; transform:translate(0, -5px);" >


	
<button ng-if="editMode == 0" ng-click="setEditMode(1)" style="width:40px; border-radius:10px; ">&#128190;</button>
<button ng-if="editMode == 1" ng-click="setEditMode(2)" style="width:40px; border-radius:10px; ">&#127912;</button> 
<button ng-if="editMode == 2" ng-click="setEditMode(0)" style="width:40px; border-radius:10px; ">&#128736;</button> 
<button ng-click="filter(1,'all')" style="width:47px;">{{inputData.edittreemode == 0 && ("beamlr.mainui.page.partbuy.category.all" | translate) || ("beamlr.mainui.page.partbuy.category.tree" | translate)}}</button> 
<button ng-click="filter(1,'body')">{{"beamlr.mainui.page.partbuy.category.body" | translate}}</button> 
<button ng-click="filter(1,'engine')">{{"beamlr.mainui.page.partbuy.category.engine" | translate}}</button> 
<button ng-click="filter(1,'suspension')">{{"beamlr.mainui.page.partbuy.category.susp" | translate}}</button>
<button ng-click="filter(1,'favorites')">{{"beamlr.mainui.page.partbuy.category.favs" | translate}}</button> 
<input style="width:75px" type="text" ng-model="inputData.searchFilter" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" />
<button style="border-radius:10px;" ng-click="search(1)">&#x1F50D</button>
</div>

<div ng-if="editMode == 0" style="margin-left: 5px; margin-right: 5px; overflow-y:scroll; max-height:220px; min-height:220px; max-width:500px; background-color:rgba(0,0,0,0.5);">

<!-- PART EDIT TREE VIEW MODE START -->

<!-- Main slot tree container -->
<div ng-if="inputData.edittreemode == 1 && !searching" class="tree" style="width:100%; margin:auto; font-size:20px; font-weight:bold;">

<!-- Slot tree item container -->
<div ng-repeat="item in beamlrData['slotTree'].children[0].children"  style="width:100%; text-align:center;">

<!-- Draws border around expanded slots that have children -->
<div ng-style="(expanded[item.id] && item.children.length > 0 && isSlotFilled(item.id)) && {'border-top':'solid 1px white','border-bottom':'solid 1px white','margin-bottom':'2px'}">

<!-- Item title & expand buttons -->
<div style="line-height:40px;">
<span style="float:left; width:40px;" ng-click="expandSlotTree(item.id)">{{getSlotExpandButton(item.id)}}</span>
<span ng-click="toggleSlotNameMode()" ng-style="(item.children.length > 0 && isSlotFilled(item.id)) && {'text-decoration':'underline'}">{{getSlotName(item.id)}}</span>
<span style="width:40px; height:40px; float:right; "><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(idFromPath(item.id))" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(item.id)}}" width=30px height=30px></img></span>
</div>

<!-- Slot parts container -->
<div ng-if="expanded[item.id] && isSlotFilled(item.id)" ng-init="key = item.id">
<table style="font-size:16px; font-weight:normal; border-collapse: collapse; width: 95%; margin: auto; table-layout: fixed; vertical-align:middle; text-align:center;">

<tr style="width:100px;" ng-if="beamlrData['advinvUsed'][key] != null">
	<td style="width: 100px; height:100px; text-align:left;">
	<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}" width=90px height=90px />
	<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
	</td>
	<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}</strong><br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
	<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null">{{beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]}}<br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
	<td style="text-align:right;">
	<button ng-disabled="mainPartCheck(key)" style="width:90px;" ng-click="advancedPartSet(key, beamlrData['advinvUsed'][key], '')">{{"beamlr.mainui.page.caredit.removebutton" | translate}}</button><br><br>
	<button disabled style="width:90px;">{{"beamlr.mainui.page.caredit.sellbutton" | translate}}</button>
	</td>
</tr>

<tr ng-repeat="(index,pid) in beamlrData['advinvParts'][key]" style="width:100px;">
	<td style="width: 100px; height:100px; text-align:left;">
	<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][pid][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][pid][0]]}}" width=90px height=90px />
	<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
	</td>
	<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][pid][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][pid][0]]}}</strong><br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][pid][0]] == null">{{beamlrData['advinvData'][pid][0]}}<br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="text-align:right;">
	<button style="width:90px;" ng-click="advancedPartSet(key, pid, beamlrData['advinvData'][pid][0])">{{"beamlr.generic.button.use" | translate}}</button><br><br>
	<button ng-if="partSellConfirm[pid] == false || partSellConfirm[pid] == null" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.mainui.page.caredit.sellbutton" | translate}}</button>
	<button ng-if="partSellConfirm[pid] == true" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.generic.button.confirm" | translate}}</button>
	</td>
</tr>
</table>
</div>


<!-- Recursive tree traversal, using template at the top of this file -->
<div ng-if="item.children.length > 0 && expanded[item.id]" ng-init="items = item.children" ng-include="'edit-tree-partial'"></div>

</div>
</div>
</div>

<!-- PART EDIT TREE VIEW MODE END -->

<!-- ORIGINAL BEAMLR EDIT VIEW MODE START -->

<div ng-if="inputData.edittreemode == 0 || searching" ng-repeat="(id,key) in beamlrData['sortedGarageSlots'] track by id">
	<div ng-if="beamlrData['advinvFilter'][key] != null && key != 'main'">
		
		<div style="word-wrap:break-word; text-align:center; font-weight: bold; font-size:20px; width:100%; line-height:40px;">
			<span ng-if="visibleSlots[key] == null || visibleSlots[key] == false" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, true)">+</span>
			<span ng-if="visibleSlots[key] == true" style="float:left; text-align:center; width:40px;" ng-click="slotToggle(key, false)">-</span>
			<span style="max-width:80%; display:inline-block; text-align:center;" ng-click="toggleSlotNameMode()"> {{getSlotName(key)}} </span>
			<span style="width:40px; height:40px; float:right; "><img style="width:40px; margin-top:5px;" ng-click="slotFavoriteToggle(idFromPath(key))" ng-attr-src="/ui/modules/apps/beamlrui/{{getSlotFavoriteIcon(key)}}" width=30px height=30px></img></span>
		</div>

		<div ng-if="visibleSlots[key] == true">

			<table style="border-collapse: collapse; width: 95%; margin: auto; table-layout: fixed; vertical-align:middle; text-align:center;">
				<tr style="width:100px;" ng-if="beamlrData['advinvUsed'][key] != null">
					<td style="width: 100px; height:100px; text-align:left;">
					<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}" width=90px height=90px />
					<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
					</td>
					<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]]}}</strong><br>{{"beamlr.mainui.page.caredit.odometerprefix"  | translate }} {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix"  | translate }} ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
					<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]] == null">{{beamlrData['advinvData'][beamlrData['advinvUsed'][key]][0]}}<br>{{"beamlr.mainui.page.caredit.odometerprefix"  | translate }} {{unitConvertedOdometer(getUsedPartOdometer(beamlrData['advinvUsed'][key])) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix"  | translate }} ${{getUsedPartSellPrice(beamlrData['advinvUsed'][key]) | number:2}}</td>
					<td style="text-align:right;">
					<button ng-disabled="mainPartCheck(key)" style="width:90px;" ng-click="advancedPartSet(key, beamlrData['advinvUsed'][key], '')">{{"beamlr.mainui.page.caredit.removebutton" | translate}}</button><br><br>
					<button disabled style="width:90px;">{{"beamlr.mainui.page.caredit.sellbutton" | translate}}</button>
					</td>
				</tr>

				<tr ng-repeat="(index,pid) in beamlrData['advinvParts'][key]" style="width:100px;">
					<td style="width: 100px; height:100px; text-align:left;">
					<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][pid][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][pid][0]]}}" width=90px height=90px />
					<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
					</td>
					<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['partNames'][beamlrData['advinvData'][pid][0]] != null"><strong>{{beamlrData['partNames'][beamlrData['advinvData'][pid][0]]}}</strong><br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
					<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['partNames'][beamlrData['advinvData'][pid][0]] == null">{{beamlrData['advinvData'][pid][0]}}<br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
					<td style="text-align:right;">
					<button style="width:90px;" ng-click="advancedPartSet(key, pid, beamlrData['advinvData'][pid][0])">{{"beamlr.generic.button.use" | translate}}</button><br><br>
					<button ng-if="partSellConfirm[pid] == false || partSellConfirm[pid] == null" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.mainui.page.caredit.sellbutton" | translate}}</button>
					<button ng-if="partSellConfirm[pid] == true" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.generic.button.confirm" | translate}}</button>
					</td>
				</tr>
			</table>
			
		</div>
		
	</div>
</div>

<!-- ORIGINAL BEAMLR EDIT VIEW MODE END -->

</div>


<div ng-if="editMode ==1" style="margin-left: 5px; margin-right: 5px; overflow:scroll; overflow-y:scroll; max-height:210px; min-height:210px; max-width:500px; background-color:rgba(0,0,0,0.5);">

<div ng-if="templateFixMode==false">
<table style="width:95%; margin-left:20px; table-layout:fixed; text-align:center;">
<tr ng-repeat="(id, template) in beamlrData['vehicleTemplateList']" style="width:100%; height:50px;">
<td style="text-align:center; width:50%; font-size:20px;">{{template}}</td>
<td style="width:50%;"><button ng-click="loadTemplate(template)">{{"beamlr.generic.button.load" | translate}}</button>&nbsp <button ng-click="saveTemplate(template)">{{"beamlr.generic.button.saveas" | translate}}</button>&nbsp <button ng-click="fixTemplateClicked(template)">{{"beamlr.mainui.page.caredit.templatefixbutton" | translate}}</button> &nbsp <span style="font-weight:bold; font-size:20px; border-radius:10px; color:red;" ng-click="deleteTemplate(template)">X</span></td>
</tr>
<tr style="width:100%; height:50px;">
<td style="text-align:center; width:50%; font-size:20px;"><input style="width:100%;" type="text" ng-model="inputData.templateName" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()" /></td>
<td style="width:50%; text-align:center;"><button ng-click="saveTemplate(inputData.templateName)">{{"beamlr.generic.button.save" | translate}}</button>&nbsp&nbsp&nbsp<button ng-click="exportConfig(inputData.templateName)">{{"beamlr.generic.button.export" | translate}}</button></td>
</tr>
</table>
</div>

<div ng-if="templateFixMode==true">
<p style="text-align:center; width:100%; font-size:20px; font-weight:bold; margin-top:5px;">{{"beamlr.mainui.page.caredit.templatefixtitle" | translate}}</p>
<p style="text-align:center; width:100%; font-size:17px;">{{"beamlr.mainui.page.caredit.templatefixdetails" | translate}}</p>

<table style="width:95%; margin:auto; table-layout:fixed; text-align:center;">
<tr ng-repeat="(index, part) in templateFixData['missing']" style="width:100%;">
<td style="text-align:center; font-size:20px; font-weight:bold;">
<span style="font-size:24px;">{{beamlrData['partNames'][nameFromPath(part)]}}</span>

<md-checkbox ng-disabled="(templateFixUsedIDs[id] && !templateFixSelected[part][id]) || (!templateFixSelected[part][id] && templateFixSelected[part] != null)" ng-model="templateFixSelected[part][id]" ng-change="onReplacementSelected(part,id)" style="width:90%; text-align:left; margin-left:45px;" ng-repeat="(i, id) in templateFixData['replacements'][part]">
{{"beamlr.mainui.page.caredit.templatefixpartprefix" | translate}} #{{id}}
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
{{unitConvertedOdometer(beamlrData['advinvData'][id][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}
</md-checkbox>

</td>


</tr>
</table>

<p ng-if="templateFixNeeded == true" style="width:90%; margin:auto; margin-bottom:10px; margin-top:30px; text-align:center;">
<button style="width:100px;" ng-click="cancelTemplateFix()">{{"beamlr.generic.button.cancel" | translate}}</button>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<button style="width:100px;" ng-click="applyTemplateFix(template)">{{"beamlr.generic.button.apply" | translate}}</button>
<br>
</p>

<p ng-if="templateFixNeeded == false" style="font-weight:bold; width:90%; margin:auto; text-align:center;">
{{"beamlr.mainui.page.caredit.templatefixnomissingmsg" | translate}}
</p>

<p ng-if="templateFixNeeded == false" style="width:90%; margin:auto; margin-bottom:10px; margin-top:10px; text-align:center;">
<button style="width:100px;" ng-click="cancelTemplateFix()">{{"beamlr.generic.button.back" | translate}}</button>
</p>

</div>

</div>



<div ng-if="editMode ==2" style="margin-left: 5px; margin-right: 5px; overflow:scroll; overflow-y:scroll; max-height:210px; min-height:210px; max-width:500px; background-color:rgba(0,0,0,0.5);">
<div style="text-align:center; margin:auto; width: 50%; height:50%; ">
<br>
<button ng-click="applyPaint()">{{"beamlr.mainui.page.caredit.paintapply" | translate}}</button>
<button ng-click="reloadPaint()">{{"beamlr.mainui.page.caredit.paintreload" | translate}}</button>
<br>
</div>
<br>
<div style="text-align:center; margin:auto; width: 50%; height:50%; ">
<ng-color ng-model="beamlrData['paint']['paintA']" presets-editable="false" show-preview="false" paint-number="1"></ng-color>
</div>
<div style="text-align:center; margin:auto; width: 50%; height:50%; ">
<ng-color ng-model="beamlrData['paint']['paintB']" presets-editable="false" show-preview="false" paint-number="2"></ng-color>
</div>
<div style="text-align:center; margin:auto; width: 50%; height:50%; ">
<ng-color ng-model="beamlrData['paint']['paintC']" presets-editable="false" show-preview="false" paint-number="3"></ng-color>
</div>
</div>


</div>

<div ng-if="beamlrData['playerWalking'] != 0">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.walking" | translate}} </h2>
</div>

<div ng-if="beamlrData['playerWalking'] == 0">
<div ng-if="beamlrData['triggerState'] != 2">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.notatgarage" | translate}} </h2>
</div>

<div ng-if="beamlrData['playerDamage'] > 1.0">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.damaged" | translate}} </h2>
</div>

<div ng-if="beamlrData['vehicleRestricted'] == true">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.restricted" | translate}} </h2>
</div>

</div>

</div>

<div ng-if="menuPage==4" style="">

<h3 style="text-align:center; line-height:0px;"> {{"beamlr.mainui.page.tuning.title" | translate}} </h3>

<div ng-if="beamlrData['triggerState'] == 2 && beamlrData['playerDamage'] == 0 && beamlrData['playerWalking'] == 0">
<div style="overflow:scroll; overflow-y:scroll; max-height:220px; max-width:500px; margin-left:5px; margin-right:5px; background-color:rgba(0,0,0,0.5);" >



<div style="margin-bottom:20px;" ng-repeat="(cid, category) in beamlrData['tuningSortedCategories']">

<h3 style="margin:0; text-align:center;">&nbsp{{category}}</h3>

<table style="table-layout:fixed; width:95%; margin:auto;">
<tr style="width:100%;" ng-repeat="(fid, field) in beamlrData['tuningSortedFields'][category]">
<td style="width:40%">{{beamlrData['tuningData'][field]["title"]}}</td>
<td ng-click="preciseTuneDecrease(field, beamlrData['tuningData'][field]['stepDis'])" style="text-align:center; width:20px; font-size:17px; font-weight:bold;">-</td>
<td>
<md-slider flex style="width:90%; margin:auto;" min="{{beamlrData['tuningData'][field]['minDis']}}" max="{{beamlrData['tuningData'][field]['maxDis']}}" step="{{beamlrData['tuningData'][field]['stepDis']}}" ng-change="tuneChanged(field)" ng-model="beamlrData['tuningValues'][field]" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()">
</md-slider>
</td>
<td ng-click="preciseTuneIncrease(field, beamlrData['tuningData'][field]['stepDis'])" style="text-align:center; width:20px; font-size:17px; font-weight:bold;">+</td>
<td style="text-align:right;">{{getTuneData(field)}} &nbsp {{beamlrData['tuningData'][field]['unit']}}</td>
</tr>
</table>

</div>


<!--
<div ng-repeat="(key,value) in beamlrData['tuningData']">
<span style="float:left; transform:translate(5px, 20px)">{{value["title"]}} &nbsp </span>
<span>
<md-slider flex style="width:100px; transform: translate(200px, 10px); " min="{{value['minDis']}}" max="{{value['maxDis']}}" step="{{value['stepDis']}}" ng-change="tuneChanged(key)" ng-model="beamlrData['tuningValues'][key]" ng-focus="textboxClick()" ng-mouseup="textboxHover()" ng-mouseenter="textboxHover()">
</md-slider>
</span>
<span style="float:right; transform:translate(-5px, -25px)">{{getTuneData(key)}} &nbsp {{value['unit']}}</span>
</div>
-->

</div>

<div>

<p style="width:100%; text-align:center; margin-bottom:20px;">
<button style="margin-right:100px;" ng-click="resetTune()"> {{"beamlr.generic.button.reset" | translate}} </button>
<button style="margin-left:100px;" ng-click="applyTune()"> {{"beamlr.generic.button.apply" | translate}} </button>
</p>


</div>


</div>

<div ng-if="beamlrData['playerWalking'] != 0">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.walking" | translate}} </h2>
</div>

<div ng-if="beamlrData['playerWalking'] == 0">
<div ng-if="beamlrData['triggerState'] != 2">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.notatgarage" | translate}} </h2>
</div>

<div ng-if="beamlrData['playerDamage'] != 0">
<h2 style="text-align:center;" > {{"beamlr.mainui.page.unavailable.damaged | translate}} </h2>
</div>
</div>

</div>


<div ng-if="menuPage == 5" style="">

<h3 style="text-align:center; line-height:0px;">{{"beamlr.mainui.page.trackevents.title" | translate}}</h3>

<div ng-if="beamlrData['currentTrackEvent']['status'] != null && beamlrData['currentTrackEvent']['status'] != 'over'">

<h2 style="text-align:center; margin-top:0px; margin-bottom:0px;">{{"beamlr.mainui.page.trackevents.cevent.infotitle" | translate}}</h2>

<div style="overflow:scroll; overflow-y:scroll; height: 190px; max-height:190px; max-width:500px; margin-left:5px; margin-right:5px; background-color:rgba(0,0,0,0.5);" >
<table style="width:100%; table-layout:fixed; vertical-align:top;">
<tr style="height:35px;"><td style="width: 150px; font-size:18px; font-weight:bold; text-align:center;">{{"beamlr.mainui.page.trackevents.cevent.title" | translate}} </td><td style="text-align:center;">{{beamlrData['currentTrackEvent']['title']}}</td></tr>
<tr style="height:35px;"><td style="width: 150px;font-size:18px; font-weight:bold; text-align:center;">{{"beamlr.mainui.page.trackevents.cevent.map" | translate}} </td><td style="text-align:center;">{{beamlrData['currentTrackEvent']['map']}}</td></tr>
<tr style="height:35px;"><td style="width: 150px;font-size:18px; font-weight:bold; text-align:center;">{{"beamlr.mainui.page.trackevents.cevent.status" | translate}}</td><td style="text-align:center;">{{beamlrData['currentTrackEvent']['status']}}</td></tr>
<tr style="height:35px;"><td style="width: 150px;font-size:18px; font-weight:bold; text-align:center;">{{"beamlr.mainui.page.trackevents.cevent.round" | translate}}</td><td style="text-align:center;">{{beamlrData['currentTrackEvent']['cround']}} / {{beamlrData['currentTrackEvent']['tround']}}</td></tr>
<tr style="height:35px;"><td style="width: 150px;font-size:18px; font-weight:bold; text-align:center;">{{"beamlr.mainui.page.trackevents.cevent.carused" | translate}}</td><td style="text-align:center;">{{beamlrData['currentTrackEvent']['carname']}}</td></tr>
</table>
</div>

<p style="margin-left:5px; margin-right:5px; text-align:center; transform:translate(0px, -12px);">
<span style="float:left;"><button ng-click="showEventBrowser()">{{"beamlr.mainui.page.trackevents.button.browse" | translate}}</button></span>
<button ng-click="showPastEvents()">{{"beamlr.mainui.page.trackevents.button.history" | translate}}</button>
<span style="float:right;"><button ng-click="abandonEvent()" ng-if="beamlrData['currentTrackEvent']['status'] != 'over'">{{"beamlr.mainui.page.trackevents.button.abandon" | translate}}</button></span></p>

</div>

<div ng-if="beamlrData['currentTrackEvent']['status'] == 'over' || beamlrData['currentTrackEvent']['status'] == null">

<h2 style="text-align:center;">{{"beamlr.mainui.page.trackevents.noevent" | translate}}</h2>

<p style="text-align:center; transform:translate(0px, -10px);">
<button ng-click="showEventBrowser()">{{"beamlr.mainui.page.trackevents.button.browse" | translate}}</button>
<button ng-click="showPastEvents()">{{"beamlr.mainui.page.trackevents.button.history" | translate}}</button>
</p>

</div>

</div>

<div ng-if="menuPage == 6" style="">

<h3 style="text-align:center; line-height:0px;">
<span ng-click="setInventoryMode(0)" ng-if="invmode == 0" style="color:#FF6600;">{{"beamlr.mainui.page.inventory.itemtitle" | translate}}</span>
<span ng-click="setInventoryMode(0)" ng-if="invmode == 1" style="color:white;">{{"beamlr.mainui.page.inventory.itemtitle" | translate}}</span>
&nbsp&nbsp&nbsp&nbsp&nbsp
<span ng-click="setInventoryMode(1)" ng-if="invmode == 1" style="color:#FF6600;">{{"beamlr.mainui.page.inventory.parttitle" | translate}}</span>
<span ng-click="setInventoryMode(1)" ng-if="invmode == 0" style="color:white;">{{"beamlr.mainui.page.inventory.parttitle" | translate}}</span>
</h3>

<div style="overflow:scroll; height:250px; max-height:250px; width:95%; margin:auto; background-color:rgba(0,0,0,0.5);">

<div ng-if="invmode == 0">
<h3 ng-if="sortedItemInventoryKeys.length <= 0" style="text-align:center; width: 90%; margin:auto; margin-top:10px; font-size:14px;">{{"beamlr.mainui.page.inventory.tip" | translate}}</h3>
<table style="width:100%; table-layout:fixed; text-align:center; border-spacing:3px;">
<tr style="width:100%; height:10px;">
<td style="width:25%; font-weight:bold; font-size:20px;"></td>
<td style="width:60%; font-weight:bold; font-size:20px;"></td>
<td style="width:10%; font-weight:bold; font-size:17px;"></td>
<td style="width:10%; font-weight:bold; font-size:17px;"></td>
</tr>
<tr style="width:100%; height:100px;" ng-repeat="(k,v) in sortedItemInventoryKeys">
<td style="width:20%; font-size:17px;">
<img ng-attr-src="{{beamlrData['itemInventory'][v].image}}" width=70 height=70></img>
</td>
<td style="width:70%; font-size:17px;"><span style="font-weight:bold;">{{beamlrData['itemInventory'][v].iname | translate}}</span><br>{{beamlrData['itemInventory'][v].idata}}</td>
<td style="width:10%; font-size:17px;"><button ng-click="inventoryUse(v)">{{"beamlr.generic.button.use" | translate}}</button></td>
<td style="width:10%; font-size:17px;"><button ng-click="inventoryDiscard(v)">X</button></td>
</tr>
</table>
</div>

<div ng-if="invmode == 1">
<h3 style="text-align:center; width: 90%; font-size:14px; margin:auto; margin-top:10px;">
{{"beamlr.mainui.page.inventory.tip2" | translate}}
</h3>

<div ng-repeat="(index,slot) in beamlrData['fidSortedSlots']">

<div style="word-wrap:break-word; text-align:center; font-weight: bold; font-size:20px; width:100%; line-height:40px;">
<span ng-click="slotToggle(slot, true)" ng-if="visibleSlots[slot] == null || visibleSlots[slot] == false" style="float:left; width:40px; text-align:center;">+</span>
<span ng-click="slotToggle(slot, false)" ng-if="visibleSlots[slot] == true" style="float:left; width:40px; text-align:center;">-</span>
<span ng-click="setSlotNameMode(1)" ng-if="slotNameMode == 0 && beamlrData['fidSlotNames'][slot] != null" style="display:inline-block; max-width:80%; text-align:center;">{{beamlrData['fidSlotNames'][slot]}}</span>
<span ng-click="setSlotNameMode(0)" ng-if="slotNameMode == 1 || beamlrData['fidSlotNames'][slot] == null" style="display:inline-block; max-width:80%; text-align:center;">{{slot}}</span>
<span ng-click="slotToggle(slot, true)" ng-if="visibleSlots[slot] == null || visibleSlots[slot] == false" style="float:right; width:40px; text-align:center;">+</span>
<span ng-click="slotToggle(slot, false)" ng-if="visibleSlots[slot] == true" style="float:right; width:40px; text-align:center;">-</span>

</div>

<div ng-if="visibleSlots[slot] == true">
<table style="border-collapse: collapse; width: 95%; margin: auto; table-layout: fixed; vertical-align:middle; text-align:center;">

<tr ng-repeat="(key,pid) in beamlrData['fidInventory'][slot]" style="width:100px;">
	<td style="width: 100px; height:100px; text-align:left;">
	<img style="display:block;" ng-click="imageClicked(beamlrData['partpreview'][beamlrData['advinvData'][pid][0]])" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] != null" ng-attr-src="{{beamlrData['partpreview'][beamlrData['advinvData'][pid][0]]}}" width=90px height=90px />
	<img style="display:block;" ng-if="beamlrData['partpreview'][beamlrData['advinvData'][pid][0]] == null" src="/ui/modules/apps/beamlrui/partimg/none.png" width=90px height=90px />
	</td>
	<td style="width:240px;" ng-if="slotNameMode == 0 && beamlrData['fidPartNames'][beamlrData['advinvData'][pid][0]] != null"><strong>{{beamlrData['fidPartNames'][beamlrData['advinvData'][pid][0]]}}</strong><br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="width:240px;" ng-if="slotNameMode == 1 || beamlrData['fidPartNames'][beamlrData['advinvData'][pid][0]] == null">{{beamlrData['advinvData'][pid][0]}}<br>{{"beamlr.mainui.page.caredit.odometerprefix" | translate}} {{unitConvertedOdometer(beamlrData['advinvData'][pid][1]) / 1000.0 | number:1}} {{beamlrData['advinvUnits'] == 'imperial' ? 'mi': 'km'}}<br>{{"beamlr.mainui.page.caredit.sellvalprefix" | translate}} ${{getPartSellPrice(pid) | number:2}}</td>
	<td style="text-align:right;">
	<button ng-if="partSellConfirm[pid] == false || partSellConfirm[pid] == null" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.mainui.page.caredit.sellbutton" | translate}}</button>
	<button ng-if="partSellConfirm[pid] == true" ng-click="advancedPartSell(pid)" style="width:90px;">{{"beamlr.generic.button.confirm" | translate}}</button>
	</td>
</tr>
</table>
</div>








</div>


</div>
</div>





<div ng-if="!showMenu" style="z-index: 9; position:relative;">


</div>
</div>
</div>